Added support for generic query plans to the optimizer to reduce the computational burden of query optimization by caching and reusing plans in later executions of the same statement. "Custom" query plans are optimized on every execution, while "generic" plans are optimized once and reused on future executions. Generic query plans are beneficial in cases where query optimization contributes significant overhead to the total cost of executing a query. #126528 #127012
When the session setting plan_cache_mode is set to auto, the system automatically determines whether to use custom or generic query plans for the execution of a prepared statement.
When the session setting plan_cache_mode is set to force_generic_plan, prepared statements will reuse optimized query plans without re-optimization, as long as the plans do not become stale due to schema changes or new table statistics.
The setting is used during EXECUTE commands and the EXPLAIN ANALYZE output includes a plan type field that displays: generic, re-optimized if the plan is optimized for the current execution, generic, reused if the plan is reused without re-optimization, or custom for other plans.

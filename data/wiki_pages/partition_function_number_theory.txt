 File:Ferrer partitioning diagrams.svg|thumb|The values <math>p(1), \dots, p(8)</math> of the partition function (1, 2, 3, 5, 7, 11, 15, and 22) can be determined by counting the Young diagrams for the partitions of the numbers from 1 to 8. In number theory, the "partition function"  represents the number of possible Partition (number theory)|partitions of a non-negative integer . For instance,  because the integer 4 has the five partitions , , , , and . No closed-form expression for the partition function is known, but it has both asymptotic analysis|asymptotic expansions that accurately approximate it and recurrence relations by which it can be calculated exactly. It grows as an exponential function of the square root of its argument. The multiplicative inverse of its generating function is the Euler function; by Euler's pentagonal number theorem this function is an alternating sum of pentagonal number powers of its argument. Srinivasa Ramanujan first discovered that the partition function has nontrivial patterns in modular arithmetic, now known as Ramanujan's congruences. For instance, whenever the decimal representation of  ends in the digit 4 or 9, the number of partitions of  will be divisible by 5. ==Definition and examples== For a positive integer ,  is the number of distinct ways of representing  as a summation|sum of positive integers. For the purposes of this definition, the order of the terms in the sum is irrelevant: two sums with the same terms in a different order are not considered to be distinct. By convention , as there is one way (the empty sum) of representing zero as a sum of positive integers. Furthermore  when  is negative. The first few values of the partition function, starting with , are: .}} Some exact values of  for larger values of  include: <math display="block">\begin{align} p(100) &= 190,\!569,\!292\\ p(1000) &= 24,\!061,\!467,\!864,\!032,\!622,\!473,\!692,\!149,\!727,\!991 \approx 2.40615\times 10^{31}\\ p(10000) &= 36,\!167,\!251,\!325,\!\dots,\!906,\!916,\!435,\!144 \approx 3.61673\times 10^{106} \end{align}</math> , the largest known prime number among the values of  is , with 40,000 decimal digits. Until March 2022, this was also the largest prime that has been proved using elliptic curve primality proving. ==Generating function== File:Euler_partition_function.svg|thumb|upright|link=|Using Euler's method to find : A ruler with plus and minus signs (grey box) is slid downwards, the relevant terms added or subtracted. The positions of the signs are given by differences of alternating natural (blue) and odd (orange) numbers. In  hover over the image to move the ruler.  The generating function for "p"("n") is given by <math display="block">\begin{align} \sum_{n=0}^\infty p(n)x^n &= \prod_{k=1}^\infty \left(\frac {1}{1-x^k} \right)\\ &=\left(1+x+x^2+x^3+\cdots\right) \left(1+x^2+x^4+x^6+\cdots\right) \left(1+x^3+x^6+x^9+\cdots\right) \cdots \\ &=\frac{1}{1 - x - x^2 + x^5 + x^7 - x^{12} - x^{15} + x^{22} + x^{26} - \cdots}\\ &=1 \Big/ \sum_{k=-\infty}^{\infty} (-1)^k x^{k(3k-1)/2}. \end{align}</math> The equality between the products on the first and second lines of this formula is obtained by expanding each factor <math>1/(1-x^k)</math> into the geometric series <math>(1+x^k+x^{2k}+x^{3k}+\cdots).</math> To see that the expanded product equals the sum on the first line, apply the distributive law to the product. This expands the product into a sum of monomials of the form <math>x^{a_1} x^{2a_2} x^{3a_3} \cdots</math> for some sequence of coefficients <math>a_i</math>, only finitely many of which can be non-zero. The exponent of the term is <math display="inline">n = \sum i a_i</math>, and this sum can be interpreted as a representation of <math>n</math> as a partition into <math>a_i</math> copies of each number <math>i</math>. Therefore, the number of terms of the product that have exponent <math>n</math> is exactly <math>p(n)</math>, the same as the coefficient of <math>x^n</math> in the sum on the left. Therefore, the sum equals the product. The function that appears in the denominator in the third and fourth lines of the formula is the Euler function. The equality between the product on the first line and the formulas in the third and fourth lines is Euler's pentagonal number theorem. The exponents of <math>x</math> in these lines are the pentagonal numbers <math>P_k = k(3k-1)/2</math> for <math>k \in \{ 0, 1,-1,2,-2,\dots\}</math> (generalized somewhat from the usual pentagonal numbers, which come from the same formula for the positive values of <math>k</math>). The pattern of positive and negative signs in the third line comes from the term <math>(-1)^k</math> in the fourth line: even choices of <math>k</math> produce positive terms, and odd choices produce negative terms. More generally, the generating function for the partitions of <math>n</math> into numbers selected from a set <math>A</math> of positive integers can be found by taking only those terms in the first product for which <math>k\in A</math>. This result is due to Leonhard Euler. The formulation of Euler's generating function is a special case of a q-Pochhammer symbol|<math>q</math>-Pochhammer symbol and is similar to the product formulation of many modular forms, and specifically the Dedekind eta function. ==Recurrence relations== The same sequence of pentagonal numbers appears in a recurrence relation for the partition function: <!-- Note: The following is the same formula as in the source, but in a more compact form. See Talk:Partition function (number theory)#Recurrence relations. --> <math display="block">\begin{align} p(n) &= \sum_{k \in \Z\setminus\{0\}} (-1)^{k+1} p(n-k(3k-1)/2) \\ &= p(n-1) + p(n-2)-p(n-5)-p(n-7) +p(n-12) +p(n-15) - p(n-22) -\cdots \end{align}</math> As base cases, <math>p(0)</math> is taken to equal <math>1</math>, and <math>p(k)</math> is taken to be zero for negative&nbsp;<math>k</math>. Although the sum on the right side appears infinite, it has only finitely many nonzero terms, coming from the nonzero values of <math>k</math> in the range <math display="block"> - \frac{\sqrt{24n+1}-1}{6} \leq k \leq \frac{\sqrt{24n+1}+1}{6}.</math> Another recurrence relation for <math>p(n)</math> can be given in terms of the divisor function|sum of divisors function : <math display="block"> p(n) = \frac{1}{n} \sum_{k=0}^{n-1} \sigma(n-k) p(k).</math> If <math>q(n)</math> denotes the number of partitions of <math>n</math> with no repeated parts then it follows by splitting each partition into its even parts and odd parts, and dividing the even parts by two, that <math display="block">p(n) = \sum_{k=0}^{\left\lfloor n/2 \right\rfloor} q(n-2k) p(k). </math> == Congruences ==  Srinivasa Ramanujan is credited with discovering that the partition function has nontrivial patterns in modular arithmetic. For instance the number of partitions is divisible by five whenever the decimal representation of <math>n</math> ends in the digit 4 or 9, as expressed by the congruence <math display="block">p(5k+4) \equiv 0 \pmod 5</math> For instance, the number of partitions for the integer 4 is 5. For the integer 9, the number of partitions is 30; for 14 there are 135 partitions. This congruence is implied by the more general identity <math display="block"> \sum_{k=0}^\infty p(5k+4)x^k = 5~ \frac{ (x^5)^5_\infty } {(x)^6_\infty},</math> also by Ramanujan, where the notation <math>(x)_\infty</math> denotes the product defined by <math display="block">(x)_\infty = \prod_{m=1}^\infty (1-x^m).</math> generating function#Congruences for the partition function|A short proof of this result can be obtained from the partition function generating function. Ramanujan also discovered congruences modulo 7 and 11: <math display="block">\begin{align}  p(7k + 5) &\equiv 0 \pmod 7,\\  p(11k + 6) &\equiv 0 \pmod {11}. \end{align}</math> The first one comes from Ramanujan's identity <math display="block"> \sum_{k=0}^\infty p(7k+5)x^k =    7~ \frac{ (x^7)^3_\infty} {(x)^4_\infty}    +49x ~ \frac{ (x^7)^7_\infty } {(x)^8_\infty}.</math> Since 5, 7, and 11 are consecutive prime number|primes, one might think that there would be an analogous congruence for the next prime 13, <math>p(13k + a) \equiv 0 \pmod{13}</math> for some . However, there is no congruence of the form <math>p(bk + a) \equiv 0 \pmod{b}</math> for any prime "b" other than 5, 7, or 11. Instead, to obtain a congruence, the argument of <math>p</math> should take the form <math>cbk+a</math> for some <math>c>1</math>. In the 1960s, A. O. L. Atkin of the University of Illinois at Chicago discovered additional congruences of this form for small prime moduli. For example: <math display="block">p(11^3 \cdot 13 \cdot k + 237)\equiv 0 \pmod {13}.</math>  proved that there are such congruences for every prime modulus greater than 3. Later,  showed there are partition congruences modulo every integer coprime integers|coprime to&nbsp;6. ==Approximation formulas== Approximation formulas exist that are faster to calculate than the exact formula given above. An asymptotic analysis|asymptotic expression for "p"("n") is given by :<math>p(n) \sim \frac {1} {4n\sqrt3} \exp\left({\pi \sqrt {\frac{2n}{3}}}\right)</math> as <math>n \to \infty</math>. This asymptotic formula was first obtained by G. H. Hardy and Ramanujan in 1918 and independently by J. V. Uspensky in 1920. Considering <math>p(1000)</math>, the asymptotic formula gives about <math>2.4402 \times 10^{31}</math>, reasonably close to the exact answer given above (1.415% larger than the true value). Hardy and Ramanujan obtained an asymptotic expansion with this approximation as the first term: <math display="block">p(n) \sim \frac{1}{2\pi \sqrt{2}} \sum_{k=1}^v  A_k(n)\sqrt{k} \cdot \frac{d}{dn} \left({\frac {1} {\sqrt{n-\frac{1}{24}}} \exp \left}\right) ,</math> where <math display="block">A_k(n) = \sum_{0 \le m < k, \; (m, k) = 1} e^{ \pi i \left( s(m, k) - 2 nm/k \right) }.</math> Here, the notation <math>(m,k)=1</math> means that the sum is taken only over the values of <math>m</math> that are relatively prime to <math>k</math>. The function <math>s(m,k)</math> is a Dedekind sum. The error after <math>v</math> terms is of the order of the next term, and <math>v</math> may be taken to be of the order of <math>\sqrt n</math>.  As an example, Hardy and Ramanujan showed that <math>p(200)</math> is the nearest integer to the sum of the first <math>v = 5</math> terms of the series. In 1937, Hans Rademacher was able to improve on Hardy and Ramanujan's results by providing a convergent series expression for <math>p(n)</math>. It is <math display="block">p(n) = \frac{1}{\pi \sqrt{2}} \sum_{k=1}^\infty A_k(n)\sqrt{k} \cdot \frac{d}{dn} \left({     \frac {1} {\sqrt{n-\frac{1}{24}}}     \sinh \left }\right) .</math> The proof of Rademacher's formula involves Ford circles, Farey sequences, modular group|modular symmetry and the Dedekind eta function. It may be shown that the <math>k</math>th term of Rademacher's series is of the order <math display="block">\exp\left(\frac{\pi}{k} \sqrt\frac{2n}{3} \right) , </math> so that the first term gives the Hardy–Ramanujan asymptotic approximation.  published an elementary proof of the asymptotic formula for <math>p(n)</math>. Techniques for implementing the Hardy–Ramanujan–Rademacher formula efficiently on a computer are discussed by , who shows that <math>p(n)</math> can be computed in time <math>O(n^{1/2+\varepsilon})</math> for any <math>\varepsilon>0</math>. This is near-optimal in that it matches the number of digits of the result. The largest value of the partition function computed exactly is <math>p(10^{20})</math>, which has slightly more than 11 billion digits. == Strict partition function ==  A partition in which no part occurs more than one is called "strict", or is said to be a partition "into distinct parts". The function "q"("n") gives the number of these strict partitions of the given sum "n". For example, "q"(3) = 2 because the partitions 3 and 1 + 2 are strict, while the third partition 1 + 1 + 1 of 3 has repeated parts.  The number "q"("n") is also equal to the number of partitions of "n" in which only odd summands are permitted. {| class="wikitable" |+ Example values of "q"("n") and associated partitions |- ! "n" || "q"("n") || Strict partitions !Partitions with only odd parts |- | 0 || 1 || () empty partition |() empty partition |- | 1 || 1 || 1 |1 |- | 2 || 1 || 2 |1+1 |- | 3 || 2 || 1+2, 3 |1+1+1, 3 |- | 4 || 2 || 1+3, 4 |1+1+1+1, 1+3 |- | 5 || 3 || 2+3, 1+4, 5 |1+1+1+1+1, 1+1+3, 5 |- | 6 || 4|| 1+2+3, 2+4, 1+5, 6 |1+1+1+1+1+1, 1+1+1+3, 3+3, 1+5 |- |7 |5 |1+2+4, 3+4, 2+5, 1+6, 7 |1+1+1+1+1+1+1, 1+1+1+1+3, 1+3+3, 1+1+5, 7 |- |8 |6 |1+3+4, 1+2+5, 3+5, 2+6, 1+7, 8 |1+1+1+1+1+1+1+1, 1+1+1+1+1+3, 1+1+3+3, 1+1+1+5, 3+5, 1+7 |- |9 |8 |2+3+4, 1+3+5, 4+5, 1+2+6, 3+6, 2+7, 1+8, 9 |1+1+1+1+1+1+1+1+1, 1+1+1+1+1+1+3, 1+1+1+3+3, 3+3+3, ...
